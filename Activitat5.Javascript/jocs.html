<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Descobreix la història dels 6 jocs més icònics: The Last of Us, Elden Ring, God of War i més.">
    <meta name="author" content="El teu nom">
    <meta name="keywords" content="jocs, història videojocs, lore, gaming, mons virtuals">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jocs – GameZone Epic</title>
    <link rel="stylesheet" href="css/estilos.css">
    <style>
        body {
            background: #0c0c16;
        }

        .jocs-header {
            text-align: center;
            padding: 3rem 1rem 2rem;
        }

        .jocs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding: 0 2rem 3rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .joc-card {
            height: 400px;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.6);
            cursor: pointer;
            transition: transform 0.4s, box-shadow 0.4s;
        }

        .joc-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(79, 172, 254, 0.4);
        }

        .joc-fons {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s ease;
        }

        .joc-card:hover .joc-fons {
            transform: scale(1.05);
        }

        .joc-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(transparent, rgba(0,0,0,0.9));
            padding: 60px 20px 20px;
            color: white;
            text-align: center;
        }

        .joc-titol {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.6rem;
            font-weight: 700;
            text-shadow: 0 2px 5px rgba(0,0,0,0.8);
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="img/logo.svg" alt="GameZone Epic">
            <h1>GameZone Epic</h1>
        </div>
        <nav>
            <a href="index.html">Inici</a>
            <a href="jocs.html">Jocs</a>

        </nav>
    </header>

    <section class="jocs-header">
        <h2>ELS 6 MONS MÉS ÈPICS</h2>
        <p>Feu clic a qualsevol joc per descobrir la seva història i personatges.</p>
    </section>

    <div class="jocs-grid" id="grid-jocs">
        <!-- Se generará con JS -->
    </div>

    <footer>
        <p>&copy; 2025 GameZone Epic</p>
    </footer>

    <!-- ✅ Requisito: JS en el body -->
    <<script>
    // ✅ Lista de juegos con soporte para GIF/WebP
    const jocs = [
        { id: 'the-last-of-us', nom: 'The Last of Us', base: 'tlou-bg' },
        { id: 'god-of-war', nom: 'God of War', base: 'gow-bg' },
        { id: 'cyberpunk-2077', nom: 'Cyberpunk 2077', base: 'cyberpunk-bg' },
        { id: 'elden-ring', nom: 'Elden Ring', base: 'elden-bg' },
        { id: 'zelda-totk', nom: 'Tears of the Kingdom', base: 'zelda-bg' },
        { id: 'minecraft', nom: 'Minecraft', base: 'minecraft-bg' }
    ];

    // ✅ Detectar si el navegador soporta WebP animado
    function soportaWebPAnimado() {
        const canvas = document.createElement('canvas');
        return canvas.toBlob && 
               canvas.toBlob(() => {}, 'image/webp', { quality: 0.5, lossless: false, animated: true });
    }

    const usaWebP = soportaWebPAnimado();

    // ✅ Generar la galería
    const grid = document.getElementById('grid-jocs');
    jocs.forEach(joc => {
        const card = document.createElement('div');
        card.className = 'joc-card';
        
        // Elegir formato: WebP si es posible, sino GIF
        const ext = usaWebP ? 'webp' : 'gif';
        const ruta = `img/backgrounds/${joc.base}.${ext}`;
        
        // ✅ Crear elemento <img> con fallback implícito (si usas WebP, el GIF no se carga)
        const img = document.createElement('img');
        img.src = ruta;
        img.alt = joc.nom;
        img.className = 'joc-fons';
        img.loading = 'lazy'; // ✅ Carga diferida para mejor rendimiento

        const overlay = document.createElement('div');
        overlay.className = 'joc-overlay';
        overlay.innerHTML = `<div class="joc-titol">${joc.nom}</div>`;

        card.appendChild(img);
        card.appendChild(overlay);

        // ✅ Evento al hacer clic
        card.addEventListener('click', () => {
            // Efecto de transición
            card.style.transform = 'scale(0.97)';
            card.style.opacity = '0.8';
            card.style.transition = 'transform 0.3s, opacity 0.3s';
            
            // Redirigir después de la animación
            setTimeout(() => {
                window.location.href = `juegos/${joc.id}.html`;
            }, 250);
        });

        grid.appendChild(card);
    });
</script>
</body>
</html>